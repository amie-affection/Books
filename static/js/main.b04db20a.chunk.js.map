{"version":3,"sources":["components/header/Header.jsx","pages/mainPage/MainPage.jsx","services/api.jsx","pages/bookPage/BookPage.jsx","pages/oneBookPage/OneBookPage.jsx","App.js","index.js"],"names":["Header","style","display","listStyle","exact","to","padding","color","activeStyle","background","MainPage","axios","defaults","baseURL","getBooks","category","a","get","res","data","getBookByTitle","title","BookPage","state","listBooks","inputValue","error","handleChange","target","setState","value","handleSubmit","e","preventDefault","getBooksByCategory","props","history","location","then","console","log","works","map","book","split","join","titleSearch","push","search","catch","URLSearchParams","this","match","onSubmit","type","name","placeholder","onChange","id","cover_id","key","path","Component","OneBookPage","numFound","params","App","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b04db20a.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header>\r\n      <nav>\r\n        <ul\r\n          style={{\r\n            display: \"Flex\",\r\n            listStyle: \"none\",\r\n          }}\r\n        >\r\n          <li>\r\n            <NavLink\r\n              exact\r\n              to=\"/\"\r\n              style={{ padding: \"10px\", display: \"block\", color: \"black\" }}\r\n              activeStyle={{ background: \"orange\" }}\r\n            >\r\n              Main\r\n            </NavLink>\r\n          </li>\r\n          <li>\r\n            <NavLink\r\n              to=\"/books\"\r\n              style={{ padding: \"10px\", display: \"block\", color: \"black\" }}\r\n              activeStyle={{ background: \"orange\" }}\r\n            >\r\n              Find Books\r\n            </NavLink>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nconst MainPage = () => {\r\n  return <h2>MainPage</h2>;\r\n};\r\n\r\nexport default MainPage;\r\n","import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"https://openlibrary.org\";\r\n\r\nexport const getBooks = async category => {\r\n  const res = await axios.get(`/subjects/${category}.json`);\r\n  return res.data;\r\n};\r\n\r\nexport const getBookByTitle = async (title) => {\r\n  const res = await axios.get(\r\n    `/search.json?title=${title}`\r\n  );\r\n  return res.data;\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getBooks } from \"../../services/api\";\r\n\r\nclass BookPage extends Component {\r\n  state = {\r\n    listBooks: null,\r\n    inputValue: \"\",\r\n    error: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const search = new URLSearchParams(this.props.location.search).get(\r\n      \"category\"\r\n    );\r\n\r\n    // console.log(getBooks());\r\n\r\n    if (search) {\r\n      this.getBooksByCategory(search);\r\n    }\r\n  }\r\n\r\n  handleChange = ({ target }) => this.setState({ inputValue: target.value });\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { inputValue } = this.state;\r\n\r\n    this.getBooksByCategory(inputValue);\r\n  };\r\n\r\n  getBooksByCategory = (inputValue) => {\r\n    const { history, location } = this.props;\r\n    getBooks(inputValue)\r\n      .then((data) => {\r\n        console.log(data);\r\n        const listBooks = data.works.map((book) => {\r\n          const title = book.title.split(\" \").join(\"+\");\r\n          return { ...book, titleSearch: title };\r\n        });\r\n\r\n        this.setState({ listBooks });\r\n        history.push({\r\n          ...location,\r\n          search: `category=${inputValue}`,\r\n        });\r\n      })\r\n      .catch((error) => this.setState({ error }));\r\n  };\r\n\r\n  render() {\r\n    // console.log(this.props);\r\n    const { match } = this.props;\r\n    const { listBooks, inputValue } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <h2>BookPage</h2>\r\n\r\n        <form onSubmit={this.handleSubmit}>\r\n          <input\r\n            type=\"text\"\r\n            name=\"category\"\r\n            placeholder=\"enter category of book\"\r\n            value={inputValue}\r\n            onChange={this.handleChange}\r\n          />\r\n          <button type=\"submit\">Find</button>\r\n        </form>\r\n\r\n        {listBooks && (\r\n          <ul>\r\n            {listBooks.map(({ title, cover_id: id, titleSearch }) => (\r\n              <li key={id}>\r\n                <Link to={`${match.path}/${titleSearch}`}>{title}</Link>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BookPage;\r\n","import React, { Component } from \"react\";\r\nimport { getBookByTitle } from \"../../services/api\";\r\n\r\nclass OneBookPage extends Component {\r\n  state = {\r\n    numFound: 0,\r\n    error: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    // console.log(this.props.match.params.title);\r\n    const { title } = this.props.match.params;\r\n\r\n    getBookByTitle(title)\r\n      .then((data) => {\r\n        // console.log(data)\r\n        this.setState({ numFound: data.numFound });\r\n      })\r\n      .catch((error) => this.setState({ error }));\r\n  }\r\n\r\n  render() {\r\n    const { numFound } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <h2>OneBookPage</h2>\r\n        <h3>{numFound} books</h3>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default OneBookPage;\r\n","import React, { Component } from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport Header from \"./components/header/Header\";\nimport MainPage from \"./pages/mainPage/MainPage\";\nimport BookPage from \"./pages/bookPage/BookPage\";\nimport OneBookPage from './pages/oneBookPage/OneBookPage';\n\nclass App extends Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <Header />\n        <Switch>\n          <Route exact path=\"/\" component={MainPage} />\n          <Route path=\"/books/:title\" component={OneBookPage} />\n          <Route path=\"/books\" component={BookPage} />\n        </Switch>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}